<!DOCTYPE html>
<html class="dark" lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Cinevag-filme</title>

    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;700;800&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>

    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#FFD700",
                        "background-light": "#f8f6f6",
                        "background-dark": "#121212",
                    },
                    fontFamily: {
                        "display": ["Plus Jakarta Sans", "Noto Sans", "sans-serif"]
                    },
                    borderRadius: {"DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "full": "9999px"},
                },
            },
        }
    </script>

    <style>
        .material-symbols-outlined {
            font-variation-settings:
            'FILL' 1,
            'wght' 400,
            'GRAD' 0,
            'opsz' 24
        }

        .trailer {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            height: 100%;
            border: none;
        }
    </style>
</head>
<body class="bg-background-dark font-display">
    <div class="relative flex h-auto min-h-screen w-full flex-col dark group/design-root overflow-x-hidden">
        <div class="layout-container flex h-full grow flex-col">
            <div class="px-4 md:px-10 lg:px-20 xl:px-40 flex flex-1 justify-center py-5">
                
                <div class="layout-content-container flex flex-col max-w-[960px] flex-1">
                    
                    <div class="@container">
                        <div class="@[480px]:px-4 @[480px]:py-3">
                            <div class="bg-cover bg-center flex flex-col justify-end overflow-hidden min-h-80 @[480px]:rounded-lg" data-alt="Pôster do filme Telefone Preto 2" style='background-image: linear-gradient(0deg, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0) 40%), url("https://tse3.mm.bing.net/th/id/OIF.ZWwWocfwEfFMDx2yIIVz2A?cb=12&rs=1&pid=ImgDetMain&o=7&rm=3");'>
                                <div class="p-4 md:p-6">
                                    <h1 class="text-white text-3xl md:text-4xl font-bold leading-tight tracking-tight">Telefone Preto 2</h1>
                                    <div class="flex items-center gap-4 mt-2 text-white/80 text-sm">
                                        <span>Ação/Terror</span>
                                        <span>2h 32min</span>
                                        <span>18 anos</span>
                                        <span>16 de outubro de 2025 nos cinemas</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="p-4">
                        <div class="relative flex items-center justify-center bg-cover bg-center aspect-video rounded-lg">
                            <iframe class="trailer" width="720" height="350" src="https://www.youtube.com/embed/YLIxDkY4epQ?si=C_kDdclVrsyusrNh" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                        </div>
                    </div>

                    <h2 class="text-white text-[22px] font-bold leading-tight tracking-[-0.015em] px-4 pb-3 pt-5">Sinopse</h2>
                    <p class="text-white/80 text-base font-normal leading-normal pb-3 pt-1 px-4">O elenco inclui o indicado ao Oscar® Demián Bichir (A Freira, Uma Vida Melhor) como o supervisor do acampamento, Arianna Rivas (A Working Man) como sua sobrinha, Miguel Mora (O Telefone Preto) como o irmão de uma das vítimas de O Sequestrador, e Jeremy Davies, que retorna como Terrence, o pai de Finn e Gwen. Novos nomes no elenco incluem Maev Beaty (Beau Tem Medo) e Graham Abbey (Sob a Bandeira do Céu).</p>
                    
                    <h2 class="text-white text-[22px] font-bold leading-tight tracking-[-0.015em] px-4 pb-3 pt-5">Elenco Principal</h2>
                    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 px-4">
                        <div class="flex flex-col items-center text-center">
                            <img alt="Owen Teague" class="w-24 h-24 rounded-full object-cover" src="https://lh3.googleusercontent.com/aida-public/AB6AXuDdhSG2wYFyOBuCR94hcmwXT9CYiEYDLa9Jv4fHonA_OTfh3cMwU0nIG9ajQyDAGH25QL2eSwSxveWnlzW-3dOfK6jabr1o0dza3u47Edt7FfC3AnwL9S4s-CMa4DUdugo26lrqCYdCwbQ0kES9n53GhC6Nu48Bnrj-RCX0aZM7lPnxEdFcIE2AUM7xt2NjSySrAb3wmugWEnag0G_Rv4tEYD-7FBMcPOBPTV6BKfrIoBlOcHelzHIEI3XiKcMkvNL39onp-mszfgs"/>
                            <p class="text-white font-semibold mt-2">Owen Teague</p>
                            <p class="text-white/60 text-sm">Noa</p>
                        </div>
                        <div class="flex flex-col items-center text-center">
                            <img alt="Freya Allan" class="w-24 h-24 rounded-full object-cover" src="https://lh3.googleusercontent.com/aida-public/AB6AXuDyMxp8aVhc9J31RLpqOVW7G1VTjqleW5jYjOExQJGUn_Bycw6vTtXzI7dfot4dawTJfqLbYlR4i7Yib1TYev3F0hIchWUgKaZg86WLLybeMNdtxtOoMb5pqHlOBNarF736Phc-9t93Ty1GSayWKtd3KDYQoz1hy5fB0nLRwUFJClrDGZkcWC_Y4bqnyWFEGvJ7x7seKN6_lVJRe8WjkuN8cB4xq1LYSsAjk0YJeEBUkdoxaVi2t52HZrN-Ao3dmrwflmWysFB3iSQ"/>
                            <p class="text-white font-semibold mt-2">Freya Allan</p>
                            <p class="text-white/60 text-sm">Mae</p>
                        </div>
                        <div class="flex flex-col items-center text-center">
                            <img alt="Kevin Durand" class="w-24 h-24 rounded-full object-cover" src="https://lh3.googleusercontent.com/aida-public/AB6AXuDuIJ1R5Y3MHRtIO7rR_KWE5Cp97wLPtbiTCPiulwokI39PX3_7BkrbjWT3ymFxzQcp3A3TOQS_92JyagSFkBlvqk6wq6d5TbylhlxaE4GMYbLS9cEzjvn8IsMWAC1UPqZjd-uM6tIOPq5vvClHdX95Z1PHtba1GQGjgJ-HEZa00AgyPZ3tflg8JKpMFgc04qXePDDkBq8tE32VbnseuGNSg2Km9tYnAx4q0ntBV2AFQknaMCaEYKIfWGB9ecaywSpXeEHaZcuGnqk"/>
                            <p class="text-white font-semibold mt-2">Kevin Durand</p>
                            <p class="text-white/60 text-sm">Proximus Caesar</p>
                        </div>
                        <div class="flex flex-col items-center text-center">
                            <img alt="Peter Macon" class="w-24 h-24 rounded-full object-cover" src="https://lh3.googleusercontent.com/aida-public/AB6AXuAcjn1TzYBgU4WDv72lUjFgCKe0Hcwpn1XldUC4qKjkLY8D9wo0pNatd3GWP-jzC_a4mVwwSOCxJEe9dQUImDZrZTP4m8mrCXfUcQEEau3R-n2OKUuVHkZq8iYkNUxK8nP5kbhmw3t17mXefgw1S8AWTFaJVtoV8cXLwb3iB7FJ2PcIEK8Wt7J_58K49KDirW3ENTMFtOrUnUH4IllMzoK4KpSr2LrMEzDRSlOAv5D8mLPNriPFzM3_9f25QKO4CBnpvzpCcjgnkKk"/>
                            <p class="text-white font-semibold mt-2">Peter Macon</p>
                            <p class="text-white/60 text-sm">Raka</p>
                        </div>
                        <div class="flex flex-col items-center text-center">
                            <img alt="William H. Macy" class="w-24 h-24 rounded-full object-cover" src="https://lh3.googleusercontent.com/aida-public/AB6AXuDIuxTHDu-KDg83PoovHqq_IQ1VU5a7kZ4mhckuB7e7ONPXSiryLbkZiJe8OB6ZAdxQhfPAtmCz5XzjZMQySnksx33Gj7Lhmz4yBfgvJLJ-zpGJE55FbsPJoytcejxA6H3BKGCiwmU7cN_3P4SSCaZzzrrh6f-CCf5mk8mGJe0qM7iJm-f-pAZ865AnS_QXAEnZaMxD44iGWI0OCPoSOON88jFcQqwkp7ha4S5EBhX14W6h2c78lrc2ZaaAhh1M-OSw5Y6RxtNyZJU"/>
                            <p class="text-white font-semibold mt-2">William H. Macy</p>
                            <p class="text-white/60 text-sm">Trevathan</p>
                        </div>
                    </div>

                    <h2 class="text-white text-[22px] font-bold leading-tight tracking-[-0.015em] px-4 pb-3 pt-8">Críticas</h2>
                    <div class="px-4 space-y-4">
                        <div class="bg-zinc-800/50 p-4 rounded-lg">
                            <div class="flex items-center gap-2">
                                <span class="text-primary font-bold">8.5/10</span>
                                <span class="text-white/80 font-semibold">- IGN</span>
                            </div>
                            <p class="text-white/70 italic mt-2">"Uma sequência espetacular que expande o universo de forma inteligente e emocionante."</p>
                        </div>
                        <div class="bg-zinc-800/50 p-4 rounded-lg">
                            <div class="flex items-center gap-2">
                                <span class="text-primary font-bold">★★★★☆</span>
                                <span class="text-white/80 font-semibold">- Empire</span>
                            </div>
                            <p class="text-white/70 italic mt-2">"Visualmente deslumbrante e com uma narrativa cativante, O Reinado é um triunfo."</p>
                        </div>
                    </div>

                    <h2 class="text-white text-[22px] font-bold leading-tight tracking-[-0.015em] px-4 pb-3 pt-8">Sessões Disponíveis</h2>
                    <div class="px-4 space-y-4">
                        <div class="bg-zinc-900/80 rounded-lg overflow-hidden">
                            <div class="p-4 bg-zinc-800/60">
                                <h3 class="text-white font-bold text-lg">Cinevag</h3>
                                <p id="selected-session" class="text-white/60 text-sm mt-1">Nenhuma sessão selecionada</p>

                                <script>
                                    (function(){
                                        const selectedEl = document.getElementById('selected-session');
                                        const confirmBtn = document.getElementById('confirm-session');

                                        function getModalDate(){
                                            const modalDate = document.getElementById('modal-date');
                                            if(!modalDate) return null;
                                            return modalDate.textContent.replace('Horários — ', '').trim();
                                        }

                                        function getSelectedTimeFromModal(){
                                            const active = document.querySelector('#times-list .bg-primary');
                                            return active ? active.textContent.trim() : null;
                                        }

                                        // Atualiza o texto de sessão selecionada e marca o botão de data no cartão
                                        function markSelectedSession(){
                                            const date = getModalDate();
                                            const time = getSelectedTimeFromModal();
                                            if(!date || !time) return;
                                            selectedEl.textContent = `${date} • ${time}`;

                                            // Marca o botão correspondente na lista principal (visual)
                                            try {
                                                const mainBtn = document.querySelector(`.open-times[data-date="${date}"]`);
                                                if(mainBtn){
                                                    // remove marcações similares antes
                                                    document.querySelectorAll('.open-times').forEach(b => b.classList.remove('bg-primary','text-black')); // limpa todos
                                                    mainBtn.classList.add('bg-primary','text-black');
                                                }
                                            } catch(e) {
                                                // ignore selector errors
                                            }
                                        }

                                        // Quando confirmar, atualiza visual antes do redirecionamento
                                        confirmBtn.addEventListener('click', () => {
                                            markSelectedSession();
                                            // nota: o redirecionamento original ainda ocorrerá em seguida
                                        });

                                        // Se quiser refletir imediatamente ao escolher um horário no modal
                                        document.getElementById('times-list')?.addEventListener('click', (e) => {
                                            const btn = e.target.closest('.time-item');
                                            if(!btn) return;
                                            // atualiza indicação instantânea (sem confirmar)
                                            const date = getModalDate();
                                            selectedEl.textContent = `${date} • ${btn.textContent.trim()}`;
                                        });
                                    })();
                                </script>
                                <p class="text-white/60 text-sm">Rua Dom Orlando Chaves 2655, Várzea Grande, MT, 78115-530</p>
                            </div>
                            <div class="p-4 grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <h4 class="text-primary font-semibold mb-2">Dublado</h4>
                                    <div class="flex flex-wrap gap-2">
                                        <button type="button" class="open-times bg-primary/20 text-primary px-4 py-2 rounded hover:bg-primary hover:text-black transition-colors" data-date="17/10">17/10</button>
                                        <button type="button" class="open-times bg-primary/20 text-primary px-4 py-2 rounded hover:bg-primary hover:text-black transition-colors" data-date="18/10">18/10</button>
                                        <button type="button" class="open-times bg-primary/20 text-primary px-4 py-2 rounded hover:bg-primary hover:text-black transition-colors" data-date="20/10">20/10</button>
                                    </div>
                                </div>

                                <!-- Modal: selecionar horário -->
                                <div id="session-modal" class="hidden fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4"> <!-- Fundo escuro semi-transparente -->
                                    <div class="bg-zinc-900 rounded-lg w-full max-w-md p-4" role="dialog" aria-modal="true" aria-labelledby="modal-date"> <!-- Conteúdo do modal -->
                                        <div class="flex justify-between items-center"> <!-- Cabeçalho do modal -->
                                            <h4 id="modal-date" class="text-white font-semibold">Horários</h4> <!-- Título dinâmico -->
                                            <button id="modal-close" class="text-white text-xl leading-none" aria-label="Fechar">✕</button> <!-- Botão de fechar -->
                                        </div>
                                        <p id="modal-sub" class="text-white/70 text-sm mt-1">Selecione um horário disponível</p> <!-- Subtítulo -->

                                        <div id="times-list" class="mt-4 flex flex-wrap gap-2"></div> <!-- Lista de horários será populada aqui -->

                                        <div class="mt-4 flex justify-end gap-2"> <!-- Botões de ação -->
                                            <button id="confirm-session" class="bg-primary px-4 py-2 rounded text-black opacity-50 pointer-events-none">Confirmar</button> <!-- Inicialmente desabilitado -->
                                            <button id="cancel-session" class="px-4 py-2 rounded border border-white/10 text-white">Cancelar</button> <!-- Botão de cancelar -->
                                        </div>
                                    </div>
                                </div>

                                <script>
                                    (function(){ // horários para as datas dubladas
                                        const timesByDate = { // horários para as datas dubladas
                                            "17/10": ["13:30","16:00","19:45"],
                                            "18/10": ["14:00","17:30","21:00"],
                                            "20/10": ["12:00","15:15","20:00"]
                                        };

                                        const modal = document.getElementById('session-modal'); // modal element
                                        const timesList = document.getElementById('times-list'); // list container
                                        const modalDate = document.getElementById('modal-date'); // date display
                                        const confirmBtn = document.getElementById('confirm-session'); // confirm button
                                        const cancelBtn = document.getElementById('cancel-session'); // cancel button
                                        const closeBtn = document.getElementById('modal-close'); // close button

                                        let selected = null;
                                        let currentDate = null;

                                        function openModal(date){ // reset confirm state until user picks a time
                                            currentDate = date; // reset confirm state until user picks a time
                                            selected = null; // reset confirm state until user picks a time
                                            confirmBtn.classList.add('opacity-50','pointer-events-none'); // reset confirm state until user picks a time
                                            confirmBtn.classList.remove('bg-primary'); // reset confirm state until user picks a time
                                            modalDate.textContent = 'Horários — ' + date;
                                            populateTimes(timesByDate[date] || ["14:00","18:00"]);
                                            modal.classList.remove('hidden');
                                            document.body.style.overflow = 'hidden';
                                        }

                                        function closeModal(){
                                            selected = null;
                                            currentDate = null;
                                            timesList.innerHTML = '';
                                            confirmBtn.classList.add('opacity-50','pointer-events-none');
                                            confirmBtn.classList.remove('bg-primary');
                                            modal.classList.add('hidden');
                                            document.body.style.overflow = '';
                                        }

                                        function populateTimes(times){
                                            timesList.innerHTML = '';
                                            times.forEach(t => {
                                                const btn = document.createElement('button');
                                                btn.type = 'button';
                                                btn.textContent = t;
                                                btn.className = 'time-item bg-primary/20 text-primary px-4 py-2 rounded hover:bg-primary hover:text-black transition-colors';
                                                btn.addEventListener('click', () => {
                                                    // toggle selection
                                                    Array.from(timesList.children).forEach(c => c.classList.remove('bg-primary','text-black'));
                                                    btn.classList.add('bg-primary','text-black');
                                                    selected = t;
                                                    confirmBtn.classList.remove('opacity-50','pointer-events-none');
                                                    confirmBtn.classList.add('bg-primary');
                                                });
                                                timesList.appendChild(btn);
                                            });
                                        }

                                        document.querySelectorAll('.open-times').forEach(b => {
                                            b.addEventListener('click', () => openModal(b.dataset.date));
                                        });

                                        confirmBtn.addEventListener('click', () => {
                                            if (!selected || !currentDate) return;
                                            // Extrair título do filme da página para enviar junto (se disponível)
                                            var filmTitle = (document.querySelector('h1') && document.querySelector('h1').textContent) ? document.querySelector('h1').textContent.trim() : '';
                                            // Navega para a tela de seleção de assentos passando data, horário, cinema e filme por query string
                                            const url = `tela3.html?date=${encodeURIComponent(currentDate)}&time=${encodeURIComponent(selected)}&cinema=${encodeURIComponent('Cinevag')}${filmTitle ? '&film=' + encodeURIComponent(filmTitle) : ''}`;
                                            window.location.href = url;
                                        });

                                        cancelBtn.addEventListener('click', closeModal);
                                        closeBtn.addEventListener('click', closeModal);

                                        // fechar ao clicar fora do conteúdo
                                        modal.addEventListener('click', (e) => {
                                            if (e.target === modal) closeModal();
                                        });

                                        // fechar com ESC
                                        document.addEventListener('keydown', (e) => {
                                            if (e.key === 'Escape' && !modal.classList.contains('hidden')) closeModal();
                                        });
                                    })();
                                </script>
                                <div class="legendado"> 
                                    <h4 class="text-primary font-semibold mb-2">Legendado</h4>
                                    <div class="flex flex-wrap gap-2">
                                        <button type="button" class="open-times bg-primary/20 text-primary px-4 py-2 rounded hover:bg-primary hover:text-black transition-colors" data-date="16/10">16/10</button>
                                        <button type="button" class="open-times bg-primary/20 text-primary px-4 py-2 rounded hover:bg-primary hover:text-black transition-colors" data-date="17/10">17/10</button>
                                        <button type="button" class="open-times bg-primary/20 text-primary px-4 py-2 rounded hover:bg-primary hover:text-black transition-colors" data-date="19/10">19/10</button>
                                    </div>
                                </div>

                                <script>
                                (function(){
                                    // horários para as datas legendadas
                                    const timesByDate = {
                                        "16/10": ["13:00","15:30","19:00"],
                                        "17/10": ["14:30","18:00","21:15"],
                                        "19/10": ["12:45","16:00","20:30"]
                                    };

                                    const modal = document.getElementById('session-modal');
                                    const timesList = document.getElementById('times-list');
                                    const modalDate = document.getElementById('modal-date');
                                    const confirmBtn = document.getElementById('confirm-session');
                                    const cancelBtn = document.getElementById('cancel-session');
                                    const closeBtn = document.getElementById('modal-close');

                                    let selected = null;
                                    let currentDate = null;

                                    function populateTimes(times){
                                        timesList.innerHTML = '';
                                        times.forEach(t => {
                                            const btn = document.createElement('button');
                                            btn.type = 'button';
                                            btn.textContent = t;
                                            btn.className = 'time-item bg-primary/20 text-primary px-4 py-2 rounded hover:bg-primary hover:text-black transition-colors';
                                            btn.addEventListener('click', () => {
                                                Array.from(timesList.children).forEach(c => c.classList.remove('bg-primary','text-black'));
                                                btn.classList.add('bg-primary','text-black');
                                                selected = t;
                                                confirmBtn.classList.remove('opacity-50','pointer-events-none');
                                                confirmBtn.classList.add('bg-primary');
                                            });
                                            timesList.appendChild(btn);
                                        });
                                    }

                                    function openModal(date){
                                        currentDate = date;
                                        modalDate.textContent = 'Horários — ' + date;
                                        populateTimes(timesByDate[date] || ["14:00","18:00"]);
                                        modal.classList.remove('hidden');
                                        document.body.style.overflow = 'hidden';
                                        // reset confirm state until user picks a time
                                        selected = null;
                                        confirmBtn.classList.add('opacity-50','pointer-events-none');
                                        confirmBtn.classList.remove('bg-primary');
                                    }

                                    function closeModal(){
                                        selected = null;
                                        currentDate = null;
                                        timesList.innerHTML = '';
                                        confirmBtn.classList.add('opacity-50','pointer-events-none');
                                        confirmBtn.classList.remove('bg-primary');
                                        modal.classList.add('hidden');
                                        document.body.style.overflow = '';
                                    }

                                        function confirmHandler(){
                                        if (!selected || !currentDate) return;
                                        // Extrair título do filme da página para enviar junto (se disponível)
                                        var filmTitle = (document.querySelector('h1') && document.querySelector('h1').textContent) ? document.querySelector('h1').textContent.trim() : '';
                                        // Redireciona para a tela de seleção de assentos com os parâmetros
                                        const url = `tela3.html?date=${encodeURIComponent(currentDate)}&time=${encodeURIComponent(selected)}&cinema=${encodeURIComponent('Cinevag')}${filmTitle ? '&film=' + encodeURIComponent(filmTitle) : ''}`;
                                        window.location.href = url;
                                    }

                                    // ligar apenas os botões dentro do bloco "legendado"
                                    document.querySelectorAll('.legendado .open-times').forEach(b => {
                                        b.addEventListener('click', () => {
                                            openModal(b.dataset.date);
                                        });
                                    });

                                    // garantir funcionamento dos botões de confirmação / cancelar / fechar / ESC / clique fora
                                    // (obs.: podem existir outros handlers; estes garantem comportamento para sessões legendadas)
                                    // remover handler anterior antes de adicionar evita duplicação se o script for executado várias vezes
                                    confirmBtn.removeEventListener('click', confirmHandler);
                                    confirmBtn.addEventListener('click', confirmHandler);
                                    cancelBtn.addEventListener('click', closeModal);
                                    closeBtn.addEventListener('click', closeModal);

                                    modal.addEventListener('click', (e) => {
                                        if (e.target === modal) closeModal();
                                    });

                                    document.addEventListener('keydown', (e) => {
                                        if (e.key === 'Escape' && !modal.classList.contains('hidden')) closeModal();
                                    });
                                })();
                                </script>

                                
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</body>
</html>